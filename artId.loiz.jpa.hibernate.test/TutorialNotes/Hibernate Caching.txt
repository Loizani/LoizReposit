<html>
<head>
	<title></title>
</head>
<body>
<p>Hibernate poss&egrave;de deux niveaux de mise en cache.</p>

<p>- Level 1 :<br />
&nbsp;Un premier niveau&nbsp;permet de stocker les donn&eacute;es demand&eacute;es pour une m&ecirc;me requ&ecirc;te sur le serveur d&#39;application, ceci pour un m&ecirc;me user, c&#39;est &agrave; dire une m&ecirc;me session. Mais pour une autre session, du m&ecirc;me user ou non, les donn&eacute;es seront &agrave; nouveau rapatri&eacute;es sur le serveur d&#39;application pour la m&ecirc;me requ&ecirc;te.</p>

<p>- Level 2 :<br />
Le caching de niveau 2&nbsp;permet d&#39;exploiter les donnn&eacute;es quelque soit la session, et permet &agrave; n&#39;importe quel user d&#39;utiliser ces donn&eacute;es. Ceci permet de supprimer le temps d&#39;acc&egrave;s au sgbd et de diminuer le temps de chargement des donn&eacute;es. A une requ&ecirc;te de select correspond une seule mise en cache pour toute session.</p>

<p>- Les framewark de gestion cache niveau 2 :</p>

<ul>
	<li>ehcache</li>
	<li>OScache</li>
	<li>Swam</li>
</ul>

<p><u><strong>Utilisation d&#39;un framework de gestion de cache Hibernate :</strong></u><br />
<br />
<u>&nbsp;- Inclusion dans pom.xml :</u><br />
EhCache est un framework. Il peut &ecirc;tre inclus dans l&#39;application en ajoutant la d&eacute;pendance Mven :<br />
&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-ehcache --&gt;<br />
&lt;dependency&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;groupId&gt;org.hibernate&lt;/groupId&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;version&gt;5.3.7.Final&lt;/version&gt;<br />
&lt;/dependency&gt;<br />
<br />
- <u>Autorisation dans Hibernate.hbm.xml</u><br />
Le fichier de configuration xml doit &ecirc;tre inform&eacute; afin que la gestion de cache de niveau 2 soit autoris&eacute;e.<br />
<br />
- <u>Autorisation de mise en cache par classe d&#39;entit&eacute;</u><br />
Chaque classe java d&#39;entit&eacute; ne b&eacute;n&eacute;ficie pas&nbsp;automatiquement&nbsp;de la possibilit&eacute; d&#39;&ecirc;tre mise en cache &quot;toute session confondue&quot; (Level&nbsp;2).<br />
C&#39;est une oprion qui doit &ecirc;tre&nbsp;activ&eacute;e par l&#39;annotation @Cachable dans le code source de la classe d&#39;entit&eacute;.<br />
De plus une autre annotation devra &ecirc;tre utilis&eacute;e pour d&eacute;finir la strategie de mise en cache</p>

<p>Voici la r&eacute;ponse de la console java lorsque, sur la m&ecirc;me sesion on effectue la m&ecirc;me requete Voir execution classe &quot;TestHibernateCache.java&quot;.<br />
On vit bien que la req&ecirc;te n&#39;est effectu&eacute;e qu&#39;une seule fois sur la m&ecirc;me session, m&ecirc;me si la requete est demand&eacute;e plusieurs fois<br />
<br />
<em>~*************************** DEBUT runFetchOperation() **************************************<br />
Hibernate: <strong>select tableopera0_.IdOperation as IdOperat1_2_0_, tableopera0_.DateOperation as DateOper2_2_0_, tableopera0_.SocieteOperation as SocieteO3_2_0_ from TableOperations tableopera0_ where tableopera0_.IdOperation=?</strong><br />
*************************** FIN runFetchOperation() **************************************<br />
*************************** DEBUT runFetchOperation() **************************************<br />
*************************** FIN runFetchOperation() **************************************<br />
*************************** DEBUT runFetchOperation() **************************************<br />
*************************** FIN runFetchOperation() **************************************</em></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
</body>
</html>
